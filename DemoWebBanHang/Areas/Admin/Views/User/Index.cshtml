@model PagedList.IPagedList<Model.EF.User>
@using PagedList.Mvc;
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

@section header{
    Danh sách người dùng
}
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>


<section class="content p-4">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title " style=" margin-top: 9px; font-size: 20px;">Danh sách người dùng</h3>

            <div class="col-md-offset- col-md-10" style="  display: flex; justify-content: flex-end;">
                <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#exampleModal" style=" color : #333; font-weight:800; padding : 8px; background-color: #4fb2fb; border: 1px solid #958f8f; ">Create </button>

            </div>
        </div>

        @using (Html.BeginForm("Index", "User", FormMethod.Get))
            {

            <div class="input-group m-3">
                <input type="search" class="form-control form-control-lg col-md-4"
                       placeholder="Type your keywords here" 
                       name="searchString" 
                        value="@ViewBag.SearchString">
                <div class="input-group-append">
                    <button type="submit" class="btn btn-lg btn-default">
                        <i class="fa fa-search "></i>

                        <i class="fa fa-sign-in"></i>
                    </button>
                </div>
            </div>
            }
     

        <div class="card-body p-0">
            <table class="table table-striped projects">
                <thead>
                    <tr>
                        <th style="width: 1%">
                            #
                        </th>
                        <th style="width: 20%">
                            Project Name
                        </th>
                        <th style="width: 20%">
                            Team Members
                        </th>
                        <th>
                            Project Progress
                        </th>
                        <th>
                        </th>
                        <th>
                        </th>


                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {

                        <tr>
                            <td>
                                #
                            </td>
                            <td>
                                <a>
                                    @item.UserName
                                </a>

                            </td>
                            <td>
                                <a>
                                    @item.Name
                                </a>

                            </td>
                            <td>
                                <ul class="list-inline">
                                    <li class="list-inline-item">
                                        <img alt="Avatar" class="table-avatar" src="~/assets/admin/dist/img/avatar.png">
                                    </li>

                                </ul>
                            </td>

                            <td class="project-state">
                                <span class="badge badge-success">Success</span>
                            </td>
                            <td class="project-actions text-right">

                                <a class="btn btn-info btn-sm" href="/Admin/User/Edit/@item.ID">
                                    <i class="fas fa-pencil-alt">
                                    </i>
                                    Edit
                                </a>
                                <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#exampleModal">Edit </button>
                                <div class="btn btn-info btn-sm " style=" background-color: #fdb004; border: none; color: #428bde;">

                                    <i class="fas fa-trash " style=" color :#FFF"></i>



                                    @Ajax.ActionLink("Delete", "Delete", new { @id = item.ID }, new AjaxOptions
                               {
                                   Confirm = "Bạn có muốn xóa bản ghi này ?",
                                   OnComplete = " $('row_" + item.ID + "').remove()",
                                   HttpMethod = "Delete",



                               })




                                </div>

                            </td>
                        </tr>
                        }

                </tbody>
            </table>
            <div class="m-3">

            @Html.PagedListPager(Model, page => Url.Action("Index", new { page , @ViewBag.SearchString }))
            </div>
        </div>
        <!-- /.card-body -->
    </div>
</section>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">New message</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="row">
                        <div class="row-cols-10 p-3">
                            <div class="form-group">
                                <label for="txtUsername" class="col-form-label">Recipient:</label>
                                <input type="text" class="form-control" id="txtUsername">
                            </div>
                            <div class="form-group">
                                <label for="txtPassword" class="col-form-label">Password:</label>
                                <input type="text" class="form-control" id="txtPassword">
                            </div>
                            <div class="form-group">
                                <label for="txtName" class="col-form-label">Name:</label>
                                <input type="text" class="form-control" id="txtName">
                            </div>
                            <div class="form-group">
                                <label for="txtAddess" class="col-form-label">Addess:</label>
                                <input type="text" class="form-control" id="txtAddess">
                            </div>

                        </div>
                        <div class="row-cols-10 p-3">

                            <div class="form-group">
                                <label for="txtEmail" class="col-form-label">Email:</label>
                                <input type="text" class="form-control" id="txtEmail">
                            </div>
                            <div class="form-group">
                                <label for="txtPhone" class="col-form-label">Phone:</label>
                                <input type="text" class="form-control" id="txtPhone">
                            </div>
                            <div class="form-group">
                                <label for="chexboxStatus" class="col-form-label">Status:</label>

                                <input data-val="true"
                                       data-val-required="The isActive field is required."
                                       id="isActive"
                                       name="isActive"
                                       type="checkbox"
                                       value="true" />

                                <input name="isActive" type="hidden" value="false" />
                            </div>

                        </div>
                    </div>
                    

                   

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Send message</button>
            </div>
        </div>
    </div>
</div>
<!-- /.content -->
